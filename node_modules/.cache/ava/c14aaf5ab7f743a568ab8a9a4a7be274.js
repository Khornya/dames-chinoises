'use strict';

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import * as Client from './client.js';
var rewire = require('rewire'); // pour les spies

var Client = rewire('./client.js'); // le fichier contenant les fonctions à tester

const jsdom = require("jsdom");
const { JSDOM } = jsdom;

_ava2.default.only.cb('afficher / masquer le texte', t => {
  t.plan(2);
  console.log(Client.seeMore);
  var seeMore = Client.__get__('seeMore');
  const dom = new JSDOM(`<script src="client.js"></script><div id="seeMoreDiv" style="display:none">Des explications très intéressantes</div><button id="seeMoreButton" onclick="seeMore()">Voir plus</button>`, { runScripts: "dangerously" });
  setTimeout(() => {
    dom.window.document.getElementById('seeMoreButton').click();
    t.is(dom.window.document.getElementById('seeMoreDiv').style.display, 'block');
    dom.window.document.getElementById('seeMoreButton').click();
    t.is(dom.window.document.getElementById('seeMoreDiv').style.display, 'none');
  }, 5000);
});
//# sourceMappingURL=/home/khornya/L2INF/Projet/dames-chinoises/node_modules/.cache/ava/c14aaf5ab7f743a568ab8a9a4a7be274.js.map
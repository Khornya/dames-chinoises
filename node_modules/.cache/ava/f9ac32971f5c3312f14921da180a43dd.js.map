{"version":3,"sources":["client.test.js"],"names":["pug","require","Client","document","write","renderFile","t","is","getElementById","style","display","seeMore","tooltips","querySelectorAll","i","deactivateTooltips","querySelector","parentNode","innerHTML","getTooltip","list","options","selectedIndex","value","false","disabled","checked","disablePlayer","true","console","log"],"mappings":"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","file":"client.test.js","sourcesContent":["import test from 'ava';\nvar pug = require('pug');\n\nvar Client = require('./client.js'); // le fichier contenant les fonctions à tester\n\ndocument.write(pug.renderFile('./views/index.pug', {})); // écrit la page d'accueil dans la simulation du DOM\n\ntest('Afficher / masquer le texte', t => {\n  t.is(document.getElementById('seeMoreDiv').style.display, 'none');\n  Client.seeMore();\n  t.is(document.getElementById('seeMoreDiv').style.display, 'block');\n  Client.seeMore();\n  t.is(document.getElementById('seeMoreDiv').style.display, 'none');\n});\n\ntest('Désactiver les tooltips', t => {\n  var tooltips = document.querySelectorAll('.tooltip');\n  for (var i=0; i<=7; i++) {\n    t.is(tooltips[i].style.display,'');\n  }\n  Client.deactivateTooltips();\n  for (var i=0; i<=7; i++) {\n    t.is(tooltips[i].style.display,'none');\n  }\n});\n\ntest('Récupérer un tooltip', t => {\n  document.querySelector('#player1').parentNode.innerHTML = '<input id=\"player1\" type=\"text\" name=\"player1\" placeholder=\"Joueur 1\"><span id=\"player1colors\"></span><span class=\"tooltip\" >Je suis le tooltip du joueur 1</span>';\n  document.querySelector('#player5').parentNode.innerHTML = '<input id=\"player5\" type=\"text\" name=\"player5\" placeholder=\"Joueur 5\"><span id=\"player5colors\"></span><span class=\"tooltip\" >Je suis le tooltip du joueur 5</span>';\n  t.is(Client.getTooltip(document.querySelector('#player1')).innerHTML, 'Je suis le tooltip du joueur 1');\n  t.is(Client.getTooltip(document.querySelector('#player2')).innerHTML, '');\n  t.is(Client.getTooltip(document.querySelector('#player3')).innerHTML, '');\n  t.is(Client.getTooltip(document.querySelector('#player4')).innerHTML, '');\n  t.is(Client.getTooltip(document.querySelector('#player5')).innerHTML, 'Je suis le tooltip du joueur 5');\n  t.is(Client.getTooltip(document.querySelector('#player6')).innerHTML, '');\n});\n\ntest('Désactiver / réactiver un joueur joué par l\\'IA',t => {\n  var list = document.getElementById(\"mode\"); // on récupère le menu déroulant\n  list.options[list.selectedIndex].value = \"2\"; // on sélectionne le mode 2 joueurs\n  t.false(document.querySelector('#player2').disabled);\n  t.is(document.querySelector('#player2').value, '');\n  t.is(document.querySelector('#level_choice').style.display, 'none');\n  document.querySelector('#ordi2').checked = true; // on coche la case IA du joueur 2\n  Client.disablePlayer(2);\n  t.true(document.querySelector('#player2').disabled);\n  t.is(document.querySelector('#player2').value, 'Ordinateur');\n  t.is(document.querySelector('#level_choice').style.display, 'block');\n  document.querySelector('#ordi2').checked = false; // on décoche la case IA du joueur 2\n  Client.disablePlayer(2);\n  t.false(document.querySelector('#player2').disabled);\n  t.is(document.querySelector('#player2').value, '');\n  t.is(document.querySelector('#level_choice').style.display, 'none');\n  list.options[list.selectedIndex].value = \"3\"; // on sélectionne le mode 3 joueurs\n  console.log(list.options[list.selectedIndex].value)\n  document.querySelector('#ordi2').checked = true; // on coche la case IA du joueur 2\n  Client.disablePlayer(2);\n  document.querySelector('#ordi3').checked = true; // on coche la case IA du joueur 3\n  Client.disablePlayer(3);\n  t.true(document.querySelector('#player3').disabled);\n  t.is(document.querySelector('#player3').value, 'Ordinateur');\n  t.is(document.querySelector('#level_choice').style.display, 'block');\n  document.querySelector('#ordi2').checked = false; // on décoche la case IA du joueur 2\n  Client.disablePlayer(2);\n  t.is(document.querySelector('#level_choice').style.display, 'block');\n  document.querySelector('#ordi3').checked = false; // on décoche la case IA du joueur 3\n  Client.disablePlayer(3);\n  t.is(document.querySelector('#level_choice').style.display, 'none');\n  document.querySelector('#ordi3').checked = true; // on coche la case IA du joueur 3\n  Client.disablePlayer(3);\n  list.options[list.selectedIndex].value = \"2\"; // on sélectionne le mode 2 joueurs\n  t.is(document.querySelector('#level_choice').style.display, 'none');\n});\n"]}
{"version":3,"sources":["server.test.js"],"names":["rewire","require","http","PassThrough","Server","Shared","winningBoard","__set__","f","t","emitData","emit","message","data","push","socket","id","io","sockets","in","gameId","clients","number","is","escapeHtml","games","numPlayers","numColors","player1","player2","numHumanPlayers","isPlayedByIa","COLORS","PLAYERS","colors","name","score","Time","gameBoard","gameOver","gameState","history","isIaPlaying","player","restartCount","startCell","player3","player4","expected","initGameBoard","game","init","deepEqual","true","isMovingBackward","false","sameTraject","isOnGameBoard","contains","tests","start","pions","cases","coordPion","coordCase","i","max","Object","keys","length","playedColor","reachableCells","path","j","k","getJumps","getPath","slice","color","hasWon","stub","sinon","hello","response","write","JSON","stringify","end","request","callsArgWith","returns","sendScore","error","result","firstCall","args","resetBehavior","spy","makeBestMove","__get__","called","resetHistory","calledOnce","not","move","validateMove","sound","cell","winner","playSpy"],"mappings":"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","file":"server.test.js","sourcesContent":["import test from 'ava';\nimport sinon from 'sinon';\n\nvar rewire = require('rewire'); // pour les spies\n\nvar http = require('http'); // pour simuler une requête HTTP\nvar PassThrough = require('stream').PassThrough;\n\n// var Server = rewire('./server.js'); // le fichier contenant les fonctions à tester\nvar Server = rewire('./server.functions.js');\nvar Shared = require('./shared.js'); // fonctions utilitaires\n\nvar winningBoard = [ // tous les joueurs ont gagné\n      [false,false,false,false,false,false,false,false,false,false,false,false,  2  ,false,false,false,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,false,false,  2  ,false,  2  ,false,false,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,false,  2  ,false,  2  ,false,  2  ,false,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,  2  ,false,  2  ,false,  2  ,false,  2  ,false,false,false,false,false,false,false,false,false],\n      [  4  ,false,  4  ,false,  4  ,false,  4  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  6  ,false,  6  ,false,  6  ,false,  6  ],\n      [false,  4  ,false,  4  ,false,  4  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  6  ,false,  6  ,false,  6  ,false],\n      [false,false,  4  ,false,  4  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  6  ,false,  6  ,false,false],\n      [false,false,false,  4  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  6  ,false,false,false],\n      [false,false,false,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,false,false,false],\n      [false,false,false,  5  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  3  ,false,false,false],\n      [false,false,  5  ,false,  5  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  3  ,false,  3  ,false,false],\n      [false,  5  ,false,  5  ,false,  5  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  3  ,false,  3  ,false,  3  ,false],\n      [  5  ,false,  5  ,false,  5  ,false,  5  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  3  ,false,  3  ,false,  3  ,false,  3  ],\n      [false,false,false,false,false,false,false,false,false,  1  ,false,  1  ,false,  1  ,false,  1  ,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,false,  1  ,false,  1  ,false,  1  ,false,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,false,false,  1  ,false,  1  ,false,false,false,false,false,false,false,false,false,false,false],\n      [false,false,false,false,false,false,false,false,false,false,false,false,  1  ,false,false,false,false,false,false,false,false,false,false,false,false] ]\n\nServer.__set__('console.log', () => {}); // supprime tout affichage dans la console\nServer.__set__('setTimeout', (f,t) => {f()}); // pour ne pas attendre\n\nvar emitData = []; // pour mémoriser les messages émis par le serveur\n\n// pour contourner les méthodes réseau\n\nfunction emit(message,data) {\n    emitData.push([message,data]);\n}\n\nvar socket = {\n  id : 23,\n  emit : emit\n}\n\nvar io = {\n  sockets : {\n    in : function(gameId) {\n      return {\n        emit : emit\n      };\n    }\n  }\n}\n\nvar clients = {\n  23 : {\n    number : 0\n  }\n}\n\ntest('Echapper les caractères HTML', t => {\n  t.is(Server.escapeHtml('<script>'),'&lt;script&gt;');\n});\n\ntest('Recommencer la partie', t => {\n  var games = {\n    1: {\n      numPlayers : 2,\n      numColors : 3,\n      player1 : 'Marc',\n      player2 : 'Joueur 2',\n      numHumanPlayers : 2,\n      isPlayedByIa : [false,false],\n      COLORS : [[1,3,5],[2,4,6]],\n      PLAYERS : [\n         { colors: [1,3,5],\n           name: 'Marc',\n           number: 1,\n           score: 52\n         },\n         { colors: [2,4,6],\n           name: 'Joueur 2',\n           number: 2,\n           score: 51\n         } ],\n      Time : 500,\n      gameBoard : [false, 1, 2, false],\n      gameOver : true,\n      gameState : [[true, true, true], [true, true, false]],\n      history : [[[12,8],[10,8]], [[16,5],[16,7]]],\n      isIaPlaying : false,\n      player : 52,\n      restartCount : 2,\n      startCell : [12,8]\n    },\n    2: {\n      numPlayers : 4,\n      numColors : 1,\n      COLORS : [[1],[2],[3],[4]],\n      player1 : 'Marc',\n      player2 : 'Sophie',\n      player3 : 'Antoine',\n      player4 : 'Luc',\n      PLAYERS : [\n         { colors: [1],\n           name: 'Marc',\n           number: 1,\n           score: 32\n         },\n         { colors: [2],\n           name: 'Sophie',\n           number: 2,\n           score: 32\n         },\n         { colors: [3],\n           name: 'Antoine',\n           number: 3,\n           score: 32\n         },\n         { colors: [4],\n           name: 'Luc',\n           number: 4,\n           score: 33\n         }\n      ],\n      Time : 500,\n      gameBoard : [1,2,3,4],\n      gameOver : false,\n      gameState : [[false], [false], [false], [false]],\n      history : [[[12,8],[12,10]], [[12,8],[12,10]], [[12,8],[12,10]], [[12,8],[12,10]]],\n      player : 155,\n      restartCount : 0,\n      startCell : [12,8],\n      isIaPlaying : false,\n      isPlayedByIa : [false, false, false, false],\n      numHumanPlayers : 4\n    },\n    3: {\n      numPlayers :2,\n      numColors : 1,\n      player1 : 'Joueur 1',\n      player2 : 'Ordinateur',\n      numHumanPlayers : 1,\n      isPlayedByIa : [false,true],\n      COLORS : [[1],[2]],\n      PLAYERS : [\n         { colors: [1],\n           name: 'Joueur 1',\n           number: 1,\n           score: 22\n         },\n         { colors: [2],\n           name: 'Ordinateur',\n           number: 2,\n           score: 23,\n         } ],\n      Time : 500,\n      gameBoard : [1,2,1,2],\n      gameOver : true,\n      gameState : [[false], [true]],\n      history : [[[5,10],[10,8]], [[5,8],[7,9]]],\n      isIaPlaying : false,\n      player : 45,\n      restartCount : 1,\n      startCell : [5,8]\n    }\n  };\n  var expected = {\n    1: {\n      numPlayers : 2,\n      numColors : 3,\n      player1 : 'Marc',\n      player2 : 'Joueur 2',\n      numHumanPlayers : 2,\n      isPlayedByIa : [false,false],\n      COLORS : [[1,3,5],[2,4,6]],\n      PLAYERS : [\n         { colors: [1,3,5],\n           name: 'Marc',\n           number: 1,\n           score: 0\n         },\n         { colors: [2,4,6],\n           name: 'Joueur 2',\n           number: 2,\n           score: 0,\n         } ],\n      Time : 500,\n      gameBoard : Shared.initGameBoard(),\n      gameOver : false,\n      gameState : [[false, false, false], [false, false, false]],\n      history : [false, false],\n      isIaPlaying : false,\n      player : 0,\n      restartCount : 0,\n      startCell : 0\n    },\n    2: {\n      numPlayers : 4,\n      numColors : 1,\n      COLORS : [[1],[2],[3],[4]],\n      player1 : 'Marc',\n      player2 : 'Sophie',\n      player3 : 'Antoine',\n      player4 : 'Luc',\n      PLAYERS : [\n         { colors: [1],\n           name: 'Marc',\n           number: 1,\n           score: 0\n         },\n         { colors: [2],\n           name: 'Sophie',\n           number: 2,\n           score: 0,\n         },\n         { colors: [3],\n           name: 'Antoine',\n           number: 3,\n           score: 0\n         },\n         { colors: [4],\n           name: 'Luc',\n           number: 4,\n           score: 0\n         }\n      ],\n      Time : 500,\n      gameBoard : Shared.initGameBoard(),\n      gameOver : false,\n      gameState : [[false], [false], [false], [false]],\n      history : [false, false, false, false],\n      player : 0,\n      restartCount : 0,\n      startCell : 0,\n      isIaPlaying : false,\n      isPlayedByIa : [false, false, false, false],\n      numHumanPlayers : 4\n    },\n    3: {\n      numPlayers :2,\n      numColors : 1,\n      player1 : 'Joueur 1',\n      player2 : 'Ordinateur',\n      numHumanPlayers : 1,\n      isPlayedByIa : [false,true],\n      COLORS : [[1],[2]],\n      PLAYERS : [\n         { colors: [1],\n           name: 'Joueur 1',\n           number: 1,\n           score: 0\n         },\n         { colors: [2],\n           name: 'Ordinateur',\n           number: 2,\n           score: 0,\n         } ],\n      Time : 500,\n      gameBoard : Shared.initGameBoard(),\n      gameOver : false,\n      gameState : [[false], [false]],\n      history : [false, false],\n      isIaPlaying : false,\n      player : 0,\n      restartCount : 0,\n      startCell : 0\n    }\n  };\n  for (var game in games) {\n    Server.init(games, game);\n  }\n  t.deepEqual(games, expected);\n});\n\ntest('Initialiser les données de la partie', t => {\n  var games = {\n    1: {\n      numPlayers : 2,\n      numColors : 3,\n      COLORS : [[1,3,5],[2,4,6]],\n      player1 : 'Marc',\n      player2 : 'Joueur 2',\n      PLAYERS : [],\n      isPlayedByIa : [false,false],\n      numHumanPlayers : 2,\n      isIaPlaying : false,\n      restartCount : 0\n    },\n    2: {\n      numPlayers : 4,\n      numColors : 1,\n      COLORS : [[1],[2],[3],[4]],\n      player1 : 'Marc',\n      player2 : 'Sophie',\n      player3 : 'Antoine',\n      player4 : 'Luc',\n      PLAYERS : [],\n      isPlayedByIa : [false,false,false,false],\n      numHumanPlayers : 4,\n      isIaPlaying : false,\n      restartCount : 0\n    },\n    3: {\n      numPlayers : 2,\n      numColors : 1,\n      COLORS : [[1],[2]],\n      player1 : 'Joueur 1',\n      player2 : 'Ordinateur',\n      PLAYERS : [],\n      isPlayedByIa : [false,true],\n      numHumanPlayers : 1,\n      isIaPlaying : false,\n      restartCount : 0\n    }\n  };\n  var expected = {\n    1: {\n      numPlayers : 2,\n      numColors : 3,\n      player1 : 'Marc',\n      player2 : 'Joueur 2',\n      numHumanPlayers : 2,\n      isPlayedByIa : [false,false],\n      COLORS : [[1,3,5],[2,4,6]],\n      PLAYERS : [\n         { colors: [1,3,5],\n           name: 'Marc',\n           number: 1,\n           score: 0\n         },\n         { colors: [2,4,6],\n           name: 'Joueur 2',\n           number: 2,\n           score: 0,\n         } ],\n      Time : 500,\n      gameBoard : Shared.initGameBoard(),\n      gameOver : false,\n      gameState : [[false, false, false], [false, false, false]],\n      history : [false, false],\n      isIaPlaying : false,\n      player : 0,\n      restartCount : 0,\n      startCell : 0\n    },\n    2: {\n      numPlayers : 4,\n      numColors : 1,\n      COLORS : [[1],[2],[3],[4]],\n      player1 : 'Marc',\n      player2 : 'Sophie',\n      player3 : 'Antoine',\n      player4 : 'Luc',\n      PLAYERS : [\n         { colors: [1],\n           name: 'Marc',\n           number: 1,\n           score: 0\n         },\n         { colors: [2],\n           name: 'Sophie',\n           number: 2,\n           score: 0,\n         },\n         { colors: [3],\n           name: 'Antoine',\n           number: 3,\n           score: 0\n         },\n         { colors: [4],\n           name: 'Luc',\n           number: 4,\n           score: 0\n         }\n      ],\n      Time : 500,\n      gameBoard : Shared.initGameBoard(),\n      gameOver : false,\n      gameState : [[false], [false], [false], [false]],\n      history : [false, false, false, false],\n      player : 0,\n      restartCount : 0,\n      startCell : 0,\n      isIaPlaying : false,\n      isPlayedByIa : [false, false, false, false],\n      numHumanPlayers : 4\n    },\n    3: {\n      numPlayers :2,\n      numColors : 1,\n      player1 : 'Joueur 1',\n      player2 : 'Ordinateur',\n      numHumanPlayers : 1,\n      isPlayedByIa : [false,true],\n      COLORS : [[1],[2]],\n      PLAYERS : [\n         { colors: [1],\n           name: 'Joueur 1',\n           number: 1,\n           score: 0\n         },\n         { colors: [2],\n           name: 'Ordinateur',\n           number: 2,\n           score: 0,\n         } ],\n      Time : 500,\n      gameBoard : Shared.initGameBoard(),\n      gameOver : false,\n      gameState : [[false], [false]],\n      history : [false, false],\n      isIaPlaying : false,\n      player : 0,\n      restartCount : 0,\n      startCell : 0\n    }\n  };\n  for (var game in games) {\n    Server.init(games, game);\n  }\n  t.deepEqual(games, expected);\n});\n\ntest('Empêcher tout mouvement vers l\\'arrière', t => {\n  t.true(Server.isMovingBackward(1,[8,12],[7,11]));\n  t.true(Server.isMovingBackward(1,[8,12],[7,13]));\n  t.false(Server.isMovingBackward(1,[8,12],[8,14]));\n  t.false(Server.isMovingBackward(1,[8,12],[9,13]));\n  t.false(Server.isMovingBackward(1,[8,12],[9,11]));\n  t.false(Server.isMovingBackward(1,[8,12],[8,10]));\n  t.false(Server.isMovingBackward(2,[8,12],[7,11]));\n  t.false(Server.isMovingBackward(2,[8,12],[7,13]));\n  t.false(Server.isMovingBackward(2,[8,12],[8,14]));\n  t.true(Server.isMovingBackward(2,[8,12],[9,13]));\n  t.true(Server.isMovingBackward(2,[8,12],[9,11]));\n  t.false(Server.isMovingBackward(2,[8,12],[8,10]));\n  t.true(Server.isMovingBackward(3,[8,12],[7,11]));\n  t.false(Server.isMovingBackward(3,[8,12],[7,13]));\n  t.false(Server.isMovingBackward(3,[8,12],[8,14]));\n  t.false(Server.isMovingBackward(3,[8,12],[9,13]));\n  t.false(Server.isMovingBackward(3,[8,12],[9,11]));\n  t.true(Server.isMovingBackward(3,[8,12],[8,10]));\n  t.false(Server.isMovingBackward(4,[8,12],[7,11]));\n  t.false(Server.isMovingBackward(4,[8,12],[7,13]));\n  t.true(Server.isMovingBackward(4,[8,12],[8,14]));\n  t.true(Server.isMovingBackward(4,[8,12],[9,13]));\n  t.false(Server.isMovingBackward(4,[8,12],[9,11]));\n  t.false(Server.isMovingBackward(4,[8,12],[8,10]));\n  t.false(Server.isMovingBackward(5,[8,12],[7,11]));\n  t.true(Server.isMovingBackward(5,[8,12],[7,13]));\n  t.true(Server.isMovingBackward(5,[8,12],[8,14]));\n  t.false(Server.isMovingBackward(5,[8,12],[9,13]));\n  t.false(Server.isMovingBackward(5,[8,12],[9,11]));\n  t.false(Server.isMovingBackward(5,[8,12],[8,10]));\n  t.false(Server.isMovingBackward(6,[8,12],[7,11]));\n  t.false(Server.isMovingBackward(6,[8,12],[7,13]));\n  t.false(Server.isMovingBackward(6,[8,12],[8,14]));\n  t.false(Server.isMovingBackward(6,[8,12],[9,13]));\n  t.true(Server.isMovingBackward(6,[8,12],[9,11]));\n  t.true(Server.isMovingBackward(6,[8,12],[8,10]));\n});\n\ntest('Empêcher de refaire le dernier mouvement dans l\\'autre sens', t => {\n  var games = {\n    1: {\n      history : [[[10,12],[10,8]], false],\n      player : 0\n    }\n  }\n  t.true(Server.sameTraject(games,1,[[10,8],[10,12]]));\n  t.false(Server.sameTraject(games,1,[[10,8],[10,10]]));\n});\n\ntest('Vérifier si une case est sur le plateau de jeu', t => {\n  t.true(Server.isOnGameBoard([2,12]));\n  t.false(Server.isOnGameBoard([10,-1]));\n});\n\ntest('Vérifier si une liste contient un certain élément', t => {\n  t.true(Server.contains([1,2,3], 2));\n  t.false(Server.contains(['1','2','3'], 2));\n  t.true(Server.contains([[2,3],[1,5],[1,2]], [1,2]));\n  t.false(Server.contains([[2,3],[3,5],[4,2]], [1,2]));\n});\n\ntest('Calculer les sauts nécessaires pour relier deux cases', t => {\n  var tests = {\n    1: {\n      start : [8,12],\n      pions : [[6,12],[7,11],[7,13],[8,10],[8,14],[9,11],[9,13],[10,12]],\n      cases : [[4,12],[6,14],[8,16],[10,14],[12,12],[10,10],[8,8],[6,10]],\n      expected : [\n        [],\n        [ [ [ 8, 12 ], [ 6, 14 ] ],\n          [ [ 8, 12 ], [ 6, 10 ], [ 6, 14 ] ] ],\n        [ [ [ 8, 12 ], [ 8, 16 ] ] ],\n        [ [ [ 8, 12 ], [ 10, 14 ] ],\n          [ [ 8, 12 ], [ 10, 10 ], [ 10, 14 ] ] ],\n        [],\n        [ [ [ 8, 12 ], [ 10, 10 ] ],\n          [ [ 8, 12 ], [ 10, 14 ], [ 10, 10 ] ] ],\n        [ [ [ 8, 12 ], [ 8, 8 ] ] ],\n        [ [ [ 8, 12 ], [ 6, 10 ] ],\n          [ [ 8, 12 ], [ 6, 14 ], [ 6, 10 ] ] ]\n      ]\n    },\n    2: {\n      start : [8,12],\n      pions : [[4,12],[6,14],[8,16],[10,14],[12,12],[10,10],[8,8],[6,10]],\n      cases : [[0,12],[4,16],[8,20],[12,16],[16,12],[12,8],[8,4],[4,8]],\n      expected : [\n        [],\n        [ [ [ 8, 12 ], [ 4, 16 ] ],\n          [ [ 8, 12 ], [ 4, 8 ], [ 4, 16 ] ] ],\n        [ [ [ 8, 12 ], [ 8, 20 ] ] ],\n        [ [ [ 8, 12 ], [ 12, 16 ] ],\n          [ [ 8, 12 ], [ 12, 8 ], [ 12, 16 ] ] ],\n        [],\n        [ [ [ 8, 12 ], [ 12, 8 ] ],\n          [ [ 8, 12 ], [ 12, 16 ], [ 12, 8 ] ] ],\n        [ [ [ 8, 12 ], [ 8, 4 ] ] ],\n        [ [ [ 8, 12 ], [ 4, 8 ] ],\n          [ [ 8, 12 ], [ 4, 16 ], [ 4, 8 ] ] ]\n      ]\n    },\n    3: {\n      start : [12,16],\n      pions : [[8,12],[8,20],[12,8]],\n      cases : [[4,8],[4,24],[12,0]],\n      expected : [\n        [ [ [ 12, 16 ], [ 4, 8 ] ] ],\n        [ [ [ 12, 16 ], [ 4, 24 ] ] ],\n        [ [ [ 12, 16 ], [ 12, 0 ] ] ]\n      ]\n    },\n    4: {\n      start : [12,16],\n      pions : [[8,12],[8,20],[12,8],[5,9],[12,2],[5,23]],\n      cases : [[4,8],[4,24],[12,0]],\n      expected : [[],[],[]]\n    },\n    5: {\n      start : [8,20],\n      pions : [[9,17],[12,16],[10,12],[13,9]],\n      cases : [[8,16]],\n      expected : [[[[8, 20],[16, 12],[10, 6],[10, 18],[8, 16]]]]\n    },\n  };\n  var coordPion, coordCase;\n  var games = {};\n  for (var i=1, max=Object.keys(tests).length;i<=max; i++) {\n    games[i] = {\n        gameBoard : [\n          [false, false, false, false, false, false, false, false, false, false, false, false, -1, false, false, false, false, false, false, false, false, false, false, false, false],\n          [false, false, false, false, false, false, false, false, false, false, false, -1, false, -1, false, false, false, false, false, false, false, false, false, false, false],\n          [false, false, false, false, false, false, false, false, false, false, -1, false, -1, false, -1, false, false, false, false, false, false, false, false, false, false],\n          [false, false, false, false, false, false, false, false, false, -1, false, -1, false, -1, false, -1, false, false, false, false, false, false, false, false, false],\n          [-1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1],\n          [false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false],\n          [false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false],\n          [false, false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false, false],\n          [false, false, false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false, false, false],\n          [false, false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false, false],\n          [false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false],\n          [false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false],\n          [-1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1],\n          [false, false, false, false, false, false, false, false, false, -1, false, -1, false, -1, false, -1, false, false, false, false, false, false, false, false, false],\n          [false, false, false, false, false, false, false, false, false, false, -1, false, -1, false, -1, false, false, false, false, false, false, false, false, false, false],\n          [false, false, false, false, false, false, false, false, false, false, false, -1, false, -1, false, false, false, false, false, false, false, false, false, false, false],\n          [false, false, false, false, false, false, false, false, false, false, false, false, -1, false, false, false, false, false, false, false, false, false, false, false, false]\n        ],\n        playedColor : 2,\n        reachableCells : [],\n        path : [],\n        history : [false, false],\n        player : 1\n      }\n    games[i][\"gameBoard\"][tests[i].start[0]][tests[i].start[1]] = 2; // positionne un pion\n    for (var j=0; j < tests[i].pions.length; j++){ // positionne les pivots potentiels\n      coordPion = tests[i].pions[j];\n      games[i][\"gameBoard\"][coordPion[0]][coordPion[1]] = 1;\n    }\n    for (var k=0; k < tests[i].cases.length; k++) {\n      games[i][\"path\"] = [];\n      games[i][\"reachableCells\"] = [];\n      coordCase = tests[i].cases[k];\n      Server.getJumps(games, i, [tests[i].start], coordCase, []);\n      t.deepEqual(games[i][\"path\"], tests[i].expected[k]);\n    }\n  }\n});\n\ntest('Calculer le chemin pour relier deux cases', t => {\n  var games = {\n    1: {\n      gameBoard : [\n        [false, false, false, false, false, false, false, false, false, false, false, false, -1, false, false, false, false, false, false, false, false, false, false, false, false],\n        [false, false, false, false, false, false, false, false, false, false, false, -1, false, -1, false, false, false, false, false, false, false, false, false, false, false],\n        [false, false, false, false, false, false, false, false, false, false, -1, false, -1, false, -1, false, false, false, false, false, false, false, false, false, false],\n        [false, false, false, false, false, false, false, false, false, -1, false, -1, false, -1, false, -1, false, false, false, false, false, false, false, false, false],\n        [-1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1],\n        [false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false],\n        [false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false],\n        [false, false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false, false],\n        [false, false, false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false, false, false],\n        [false, false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false, false],\n        [false, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, false],\n        [false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false],\n        [-1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1, false, -1],\n        [false, false, false, false, false, false, false, false, false, -1, false, -1, false, -1, false, -1, false, false, false, false, false, false, false, false, false],\n        [false, false, false, false, false, false, false, false, false, false, -1, false, -1, false, -1, false, false, false, false, false, false, false, false, false, false],\n        [false, false, false, false, false, false, false, false, false, false, false, -1, false, -1, false, false, false, false, false, false, false, false, false, false, false],\n        [false, false, false, false, false, false, false, false, false, false, false, false, -1, false, false, false, false, false, false, false, false, false, false, false, false]\n      ],\n      playedColor : 2,\n      player : 1,\n      history : [false, false]\n    }\n  }\n  var tests = {\n    1: {\n      start : [8,12],\n      pions : [[4,12],[5,9],[6,14],[7,9],[11,11],[15,13]],\n      cases : [[16,12],[7,13],[3,9]],\n      expected : [\n        [[8,12],[4,16],[4,8],[6,10],[8,8],[14,14],[16,12]],\n        [[8,12],[7,13]],\n        false\n      ]\n    }\n    // faire d'autres tests\n  };\n  var coordPion, coordCase;\n  for (var i=1, max=Object.keys(tests).length;i<=max; i++) {\n    games[i][\"gameBoard\"][tests[i].start[0]][tests[i].start[1]] = 1; // positionne un pion\n    for (var j=0; j < tests[i].pions.length; j++){ // positionne les pivots potentiels\n      coordPion = tests[i].pions[j];\n      games[i][\"gameBoard\"][coordPion[0]][coordPion[1]] = 2;\n    }\n    for (var k=0; k < tests[i].cases.length; k++) {\n      games[i][\"path\"] = [];\n      coordCase = tests[i].cases[k];\n      t.deepEqual(Server.getPath(games, i, tests[i].start, coordCase), tests[i].expected[k]);\n    }\n  }\n});\n\ntest('Vérifier si un joueur a gagné', t => {\n  var games = {\n    1: {\n      gameBoard : winningBoard.slice(0),\n      numPlayers : 6,\n      numColors : 1,\n      COLORS : [[1],[3],[6],[2],[4],[5]],\n      gameState : [[false], [false], [false], [false], [false], [false]],\n      player : 0\n    },\n    2: {\n      gameBoard : winningBoard.slice(0),\n      numPlayers : 2,\n      numColors : 3,\n      COLORS : [[1, 3, 5],[2, 4, 6]],\n      gameState : [[true,false,true], [false,false,false]],\n      player : 0\n    },\n    3: {\n      gameBoard : winningBoard.slice(0),\n      numPlayers : 2,\n      numColors : 3,\n      COLORS : [[1, 3, 5],[2, 4, 6]],\n      gameState : [[true,false,true], [false,false,false]],\n      player : 1\n    },\n    4: {\n      gameBoard : Shared.initGameBoard(),\n      numPlayers : 2,\n      numColors : 3,\n      COLORS : [[1, 3, 5],[2, 4, 6]],\n      gameState : [[true,false,true], [false,false,false]],\n      player : 0\n    }\n  }\n  var tests = {\n    1: {\n      color : 1,\n      expected : true\n    },\n    2: {\n      color : 3,\n      expected : true\n    },\n    3: {\n      color : 6,\n      expected : false\n    },\n    4: {\n      color : 3,\n      expected : false\n    }\n  }\n  for (var gameId in games) {\n    t.deepEqual(Server.hasWon(games, gameId, tests[gameId][\"color\"]), tests[gameId][\"expected\"]);\n  }\n});\n\ntest('Envoyer les scores à la BDD', t => {\n  var games = {\n    1: {\n      PLAYERS: [{name: 'Test1', score:0},{name: 'Test2', score:1}]\n    }\n  };\n  // https://codeutopia.net/blog/2015/01/30/how-to-unit-test-nodejs-http-requests/\n  var stub = sinon.stub(http,'get');\n  var expected = { hello: 'world' };\n\tvar response = new PassThrough();\n\tresponse.write(JSON.stringify(expected));\n\tresponse.end();\n  var request = new PassThrough();\n\tstub.callsArgWith(1,response).returns(request);\n  Server.sendScore(games,1,games[1][\"PLAYERS\"][0], (error, result) => {\n    t.deepEqual(expected, result);\n  });\n  t.is(stub.firstCall.args[0],'http://hop-hop-hop.herokuapp.com/score?name=Test1&score=0&adversaire1=Test2&adversaire2=undefined&adversaire3=undefined&adversaire4=undefined&adversaire5=undefined');\n  expected = \"some error\";\n  request = new PassThrough();\n  stub.resetBehavior();\n  stub.returns(request);\n  Server.sendScore(games,1,games[1][\"PLAYERS\"][0], (error) => {\n    t.deepEqual(error, expected);\n  });\n  request.emit('error', expected);\n});\n\ntest('Calculer le meilleur coup à jouer', t => {\n  var games = {\n    1: {\n      gameBoard : Shared.initGameBoard(),\n      gameOver : true,\n      isPlayedByIa : [true, true],\n      player : 1\n    },\n    2: {\n      gameBoard : Shared.initGameBoard(),\n      gameOver : false,\n      isPlayedByIa : [false, true],\n      player : 0\n    },\n    3: {\n      gameBoard : Shared.initGameBoard(),\n      gameOver : false,\n      isPlayedByIa : [false, true],\n      player : 1,\n      COLORS : [[1,3,5],[2,4,6]],\n      history : [false,false],\n      PLAYERS : [{score:0},{score:0}],\n      Time : 500,\n      numPlayers : 2,\n      numColors : 3\n    },\n    4: {\n      gameBoard : [ // plus qu'un mouvement pour gagner\n            [false,false,false,false,false,false,false,false,false,false,false,false,  2  ,false,false,false,false,false,false,false,false,false,false,false,false],\n            [false,false,false,false,false,false,false,false,false,false,false,  2  ,false,  2  ,false,false,false,false,false,false,false,false,false,false,false],\n            [false,false,false,false,false,false,false,false,false,false,  2  ,false,  2  ,false,  2  ,false,false,false,false,false,false,false,false,false,false],\n            [false,false,false,false,false,false,false,false,false, -1  ,false,  2  ,false,  2  ,false,  2  ,false,false,false,false,false,false,false,false,false],\n            [  4  ,false,  4  ,false,  4  ,false,  4  ,false,  2  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  6  ,false,  6  ,false,  6  ,false,  6  ],\n            [false,  4  ,false,  4  ,false,  4  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  6  ,false,  6  ,false,  6  ,false],\n            [false,false,  4  ,false,  4  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  6  ,false,  6  ,false,false],\n            [false,false,false,  4  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  6  ,false,false,false],\n            [false,false,false,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,false,false,false],\n            [false,false,false,  5  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  3  ,false,false,false],\n            [false,false,  5  ,false,  5  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  3  ,false,  3  ,false,false],\n            [false,  5  ,false,  5  ,false,  5  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  3  ,false,  3  ,false,  3  ,false],\n            [  5  ,false,  5  ,false,  5  ,false,  5  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false, -1  ,false,  3  ,false,  3  ,false,  3  ,false,  3  ],\n            [false,false,false,false,false,false,false,false,false,  1  ,false,  1  ,false,  1  ,false,  1  ,false,false,false,false,false,false,false,false,false],\n            [false,false,false,false,false,false,false,false,false,false,  1  ,false,  1  ,false,  1  ,false,false,false,false,false,false,false,false,false,false],\n            [false,false,false,false,false,false,false,false,false,false,false,  1  ,false,  1  ,false,false,false,false,false,false,false,false,false,false,false],\n            [false,false,false,false,false,false,false,false,false,false,false,false,  1  ,false,false,false,false,false,false,false,false,false,false,false,false] ],\n      gameOver : false,\n      gameState : [[false,false,false],[false,true,true]],\n      isPlayedByIa : [true, true],\n      player : 1,\n      COLORS : [[1,3,5],[2,4,6]],\n      history : [false,false],\n      PLAYERS : [{score:0},{score:0}],\n      Time : 500,\n      numPlayers : 2,\n      numColors : 3\n    }\n  }\n  Server.__set__('move', sinon.spy());\n  Server.__set__('sendScore', sinon.spy());\n  Server.makeBestMove(io,games,1);\n  t.false(Server.__get__('move').called);\n  t.false(Server.__get__('sendScore').called);\n  Server.__get__('move').resetHistory();\n  Server.__get__('sendScore').resetHistory();\n  Server.makeBestMove(io,games,2);\n  t.false(Server.__get__('move').called);\n  t.false(Server.__get__('sendScore').called);\n  Server.__get__('move').resetHistory();\n  Server.__get__('sendScore').resetHistory();\n  Server.makeBestMove(io,games,3);\n  t.true(Server.__get__('move').calledOnce);\n  t.false(Server.__get__('sendScore').called);\n  t.is(games[3][\"player\"],0);\n  t.is(games[3][\"startCell\"],0);\n  t.is(games[3][\"PLAYERS\"][1][\"score\"],1);\n  t.not(games[3][\"history\"][1],false);\n  t.true(games[3][\"Time\"] >= 500);\n  t.false(games[3][\"isIaPlaying\"]);\n  Server.__set__('move', Server.move);\n  Server.__get__('sendScore').resetHistory();\n  t.true(Server.makeBestMove(io,games,4));\n  t.true(Server.__get__('sendScore').calledOnce);\n  t.true(games[4][\"gameOver\"]);\n});\n\ntest(\"Vérifier la validité d'un mouvement\", t => {\n  var games = {\n    1: {\n      gameBoard : Shared.initGameBoard(),\n      COLORS : [[1,3,5],[2,4,6]],\n      player : 0,\n      playedColor : 2,\n      startCell : 0,\n      history : [false, false],\n      isIaPlaying : false,\n      isPlayedByIa : [false,false]\n    },\n    2: {\n      gameBoard : Shared.initGameBoard(),\n      COLORS : [[1,3,5],[2,4,6]],\n      player : 0,\n      playedColor : 1,\n      startCell : [2,14],\n      history : [false, false],\n      isIaPlaying : false,\n      PLAYERS : [{score:0},{score:0}]\n    },\n    3: {\n      gameBoard : Shared.initGameBoard(),\n      numPlayers : 2,\n      COLORS : [[1,3,5],[2,4,6]],\n      player : 0,\n      playedColor : 1,\n      startCell : [2,14],\n      history : [false, false],\n      isIaPlaying : false,\n      PLAYERS : [{score:0},{score:0}]\n    },\n    4: {\n      gameBoard : winningBoard.slice(0),\n      numPlayers : 2,\n      COLORS : [[1,3,5],[2,4,6]],\n      player : 0,\n      playedColor : 1,\n      startCell : 0,\n      history : [false, false],\n      isIaPlaying : false,\n      PLAYERS : [{score:0},{score:0}],\n      gameState : [[false,true,true],[false,false,false]],\n      gameOver : false\n    }\n  }\n  emitData = [];\n  t.false(Server.validateMove(io, clients, games, 1, socket, [16,12])); // sélectionner pion de l'adversaire\n  t.false(Server.validateMove(io, clients, games, 1, socket, [8,12])); // sélectionner case vide\n  t.false(Server.validateMove(io, clients, games, 1, socket, [2,14])); // sélectionner un pion\n  t.deepEqual(games[1][\"startCell\"],[2,14]);\n  t.is(games[1][\"playedColor\"],1);\n  t.is(games[1][\"gameBoard\"][2][14],-1);\n  t.false(Server.validateMove(io, clients, games, 2, socket, [2,14])); // désélectionner un pion\n  t.is(games[2][\"startCell\"],0);\n  t.is(games[2][\"gameBoard\"][2][14],1);\n  t.true(Server.validateMove(io, clients, games, 3, socket, [4,12])); // sauter\n  t.is(games[3][\"startCell\"],0);\n  t.is(games[3][\"player\"],1);\n  t.is(games[3][\"Time\"],500);\n  t.deepEqual(games[3][\"history\"],[[[2,14],[4,12]], false]);\n  t.deepEqual(games[3][\"PLAYERS\"],[{score:1},{score:0}]);\n  games[3][\"player\"] = 0;\n  t.false(Server.validateMove(io, clients, games, 3, socket, [4,12])); // sélectionner un pion\n  t.false(Server.validateMove(io, clients, games, 3, socket, [2,14])); // aller vers l'arrière\n  t.true(Server.validateMove(io, clients, games, 3, socket, [4,10])); // déplacer un pion\n  games[3][\"player\"] = 0;\n  t.false(Server.validateMove(io, clients, games, 3, socket, [4,10])); // sélectionner un pion\n  t.false(Server.validateMove(io, clients, games, 3, socket, [4,12])); // rejouer le dernier coup\n  t.false(Server.validateMove(io, clients, games, 3, socket, [4,10])); // désélectionner un pion\n  t.false(Server.validateMove(io, clients, games, 3, socket, [0,12])); // sélectionner un pion\n  t.false(Server.validateMove(io, clients, games, 3, socket, [4,14])); // mouvement invalide\n  t.false(Server.validateMove(io, clients, games, 3, socket, [1,13])); // case occupée\n  games[4][\"gameBoard\"][13][9] = -1;\n  games[4][\"gameBoard\"][12][10] = 1;\n  t.false(Server.validateMove(io, clients, games, 4, socket, [12,10])); // sélectionner un pion\n  t.true(Server.validateMove(io, clients, games, 4, socket, [13,9])); // remporter la partie\n  t.deepEqual(games[4][\"history\"],[[[12,10],[13,9]],false]);\n  t.is(games[4][\"Time\"],500);\n  t.deepEqual(games[4][\"PLAYERS\"], [{score:1},{score:0}]);\n  t.true(games[4][\"gameOver\"]);\n  t.deepEqual(emitData, [\n    ['game error', {\n      message: 'please click on your own pieces',\n      sound: 'fail' }],\n    ['game error', {\n      message: 'please click on your own pieces',\n      sound: 'fail' }],\n    ['select', { cell: [2,14] }],\n    ['deselect', {\n      cell: [2,14],\n      color: 1 }],\n    ['move', {\n      path: [[2,14],[4,12]],\n      playedColor: 1 }],\n    ['new turn', { player: 1 }],\n    ['select', { cell: [4,12] }],\n    ['game error', {\n      message: 'You can\\'t go back!',\n      sound: 'fail' }],\n    ['move', {\n      path: [[4,12],[4,10]],\n      playedColor: 1 }],\n    ['new turn', { player: 1 }],\n    ['select', { cell: [4,10] }],\n    ['game error', {\n      message: 'You can\\'t replay the last move',\n      sound: 'fail' }],\n    ['deselect', {\n      cell: [4,10],\n      color: 1 }],\n    ['select', { cell: [0,12] }],\n    ['game error', {\n      message: 'Invalid move!',\n      sound: 'fail' }],\n    ['game error', {\n      message: 'Cell not empty!',\n      sound: 'fail' }],\n    ['select', { cell: [12,10] }],\n    ['move', {\n      path: [[12,10],[13,9]],\n      playedColor: 1 }],\n    ['end game', {\n      score: 1,\n      winner: 0 }]\n  ]);\n});\n\ntest('Jouer un tour', t => {\n  var games = {\n    1: {\n      gameOver: true\n    },\n    2: {\n      isPlayedByIa: [false, false],\n      player: 0,\n      gameBoard: Shared.initGameBoard(),\n      startCell: 0,\n      COLORS: [[1],[2]]\n    },\n    3: {\n      isPlayedByIa: [true, false],\n      player: 0,\n      gameBoard: Shared.initGameBoard(),\n      startCell: 0,\n      COLORS: [[1],[2]],\n      history: [false,false],\n      PLAYERS: [{score:0},{score:0}]\n    },\n    4: {\n      isPlayedByIa: [true, true],\n      player: 0,\n      gameBoard: Shared.initGameBoard(),\n      startCell: 0,\n      COLORS: [[1],[2]],\n      history: [false,false],\n      PLAYERS: [{score:0},{score:0}]\n    }\n  }\n  Server.__set__('validateMove', sinon.spy());\n  Server.__set__('makeBestMove', sinon.spy());\n  var playSpy = sinon.spy(Server,'play');\n  // Server.__set__('play', sinon.spy());\n  t.false(playSpy(io, clients, games, 1, socket, [2,14]));\n  t.false(Server.__get__('validateMove').called);\n  t.false(Server.__get__('makeBestMove').called);\n  t.false(playSpy.called);\n  t.false(playSpy(io, clients, games, 2, socket, [8,12]));\n  t.true(Server.__get__('validateMove').calledOnce);\n  t.false(Server.__get__('makeBestMove').called);\n  t.false(playSpy.called);\n  Server.__get__('validateMove').resetHistory();\n  Server.__get__('makeBestMove').resetHistory();\n  playSpy.resetHistory();\n  t.true(playSpy(io, clients, games, 3));\n  t.false(Server.__get__('validateMove').called);\n  t.true(Server.__get__('makeBestMove').calledOnce);\n  t.false(playSpy.called);\n  t.is(games[3][\"Time\"],500);\n  Server.__get__('validateMove').resetHistory();\n  Server.__get__('makeBestMove').resetHistory();\n  playSpy.resetHistory();\n  t.true(playSpy(io, clients, games, 4));\n  t.false(Server.__get__('validateMove').called);\n  t.true(Server.__get__('makeBestMove').calledOnce);\n  t.true(playSpy.calledOnce); // impossible a tester à cause du setTimeout ?\n});\n\ntest('Effectuer le déplacement d\\'un pion', t => {\n  var games = {\n    1: {\n      gameBoard: Shared.initGameBoard()\n    }\n  }\n  Server.move(games, 1, [[2,14],[4,12]], 1);\n  t.is(games[1][\"gameBoard\"][2][14], -1);\n  t.is(games[1][\"gameBoard\"][4][12], 1);\n  Server.move(games, 1, [[0,12],[2,14],[4,16],[4,8]], 1);\n  t.is(games[1][\"gameBoard\"][0][12], -1);\n  t.is(games[1][\"gameBoard\"][2][14], -1);\n  t.is(games[1][\"gameBoard\"][4][16], -1);\n  t.is(games[1][\"gameBoard\"][4][8], 1);\n});\n"]}
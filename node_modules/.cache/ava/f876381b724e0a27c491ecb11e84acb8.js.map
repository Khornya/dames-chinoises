{"version":3,"sources":["home.test.js"],"names":["jsdom","require","test","only","cb","t","plan","env","html","scripts","__dirname","features","FetchExternalResources","ProcessExternalResources","done","errors","window","console","log","setTimeout","document","getElementById","click","is","style","display"],"mappings":";;AAAA;;;;;;AACA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA;;AAEAC,cAAKC,IAAL,CAAUC,EAAV,CAAa,6BAAb,EAA4CC,KAAK;AAC/CA,IAAEC,IAAF,CAAO,CAAP;AACAN,QAAMO,GAAN,CAAU;AACRC,UAAM,uLADE;AAERC,aAAS,CACPC,YAAY,eADL,CAFD;AAKRC,cAAU;AACRC,8BAAwB,CAAC,QAAD,CADhB;AAERC,gCAA0B,CAAC,QAAD;AAFlB,KALF;AASRC,UAAM,UAASC,MAAT,EAAiBC,MAAjB,EAAyB;AAC7B,UAAGD,UAAU,IAAb,EAAmBE,QAAQC,GAAR,CAAY,QAAZ,EAAsBH,MAAtB;;AAEnBI,iBAAW,MAAM;AACfC,iBAASC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC;AACAjB,UAAEkB,EAAF,CAAKH,SAASC,cAAT,CAAwB,YAAxB,EAAsCG,KAAtC,CAA4CC,OAAjD,EAA0D,OAA1D;AACAL,iBAASC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC;AACAjB,UAAEkB,EAAF,CAAKH,SAASC,cAAT,CAAwB,YAAxB,EAAsCG,KAAtC,CAA4CC,OAAjD,EAA0D,MAA1D;AACD,OALD,EAKG,IALH;AAMD;AAlBO,GAAV;AAoBD,CAtBD","file":"home.test.js","sourcesContent":["import test from 'ava';\nvar jsdom = require('jsdom');\n\n// import * as Client from './client.js';\n\ntest.only.cb('afficher / masquer le texte', t => {\n  t.plan(2);\n  jsdom.env({\n    html: \"<html><body><div id='seeMoreDiv' style='display:none'>Des explications très intéressantes</div><button id='seeMoreButton' onclick='Client.seeMore()'>Voir plus</button></body></html>\",\n    scripts: [\n      __dirname + '/../client.js'\n    ],\n    features: {\n      FetchExternalResources: [\"script\"],\n      ProcessExternalResources: [\"script\"],\n    },\n    done: function(errors, window) {\n      if(errors != null) console.log('Errors', errors);\n\n      setTimeout(() => {\n        document.getElementById('seeMoreButton').click();\n        t.is(document.getElementById('seeMoreDiv').style.display, 'block');\n        document.getElementById('seeMoreButton').click();\n        t.is(document.getElementById('seeMoreDiv').style.display, 'none');\n      }, 1000);\n    }\n  });\n});\n"]}
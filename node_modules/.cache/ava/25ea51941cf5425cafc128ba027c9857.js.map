{"version":3,"sources":["home.test.js"],"names":["rewire","require","Client","jsdom","JSDOM","test","only","cb","t","plan","dom","runScripts","setTimeout","window","document","getElementById","click","is","style","display"],"mappings":";;AAAA;;;;;;AAEA;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb,C,CAAgC;;AAEhC,IAAIC,SAASD,QAAQ,aAAR,CAAb,C,CAAqC;;AAErC,MAAME,QAAQF,QAAQ,OAAR,CAAd;AACA,MAAM,EAAEG,KAAF,KAAYD,KAAlB;;AAEAE,cAAKC,IAAL,CAAUC,EAAV,CAAa,6BAAb,EAA4CC,KAAK;AAC/CA,IAAEC,IAAF,CAAO,CAAP;AACA,QAAMC,MAAM,IAAIN,KAAJ,CAAW,8LAAX,EAA0M,EAAEO,YAAY,aAAd,EAA1M,CAAZ;AACAC,aAAW,MAAM;AACfF,QAAIG,MAAJ,CAAWC,QAAX,CAAoBC,cAApB,CAAmC,eAAnC,EAAoDC,KAApD;AACAR,MAAES,EAAF,CAAKP,IAAIG,MAAJ,CAAWC,QAAX,CAAoBC,cAApB,CAAmC,YAAnC,EAAiDG,KAAjD,CAAuDC,OAA5D,EAAqE,OAArE;AACAT,QAAIG,MAAJ,CAAWC,QAAX,CAAoBC,cAApB,CAAmC,eAAnC,EAAoDC,KAApD;AACAR,MAAES,EAAF,CAAKP,IAAIG,MAAJ,CAAWC,QAAX,CAAoBC,cAApB,CAAmC,YAAnC,EAAiDG,KAAjD,CAAuDC,OAA5D,EAAqE,MAArE;AACD,GALD,EAKG,IALH;AAMD,CATD","file":"home.test.js","sourcesContent":["import test from 'ava';\n\n// import * as Client from './client.js';\nvar rewire = require('rewire'); // pour les spies\n\nvar Client = require('./client.js'); // le fichier contenant les fonctions à tester\n\nconst jsdom = require(\"jsdom\");\nconst { JSDOM } = jsdom;\n\ntest.only.cb('afficher / masquer le texte', t => {\n  t.plan(2);\n  const dom = new JSDOM(`<script src=\"client.js\"></script><div id=\"seeMoreDiv\" style=\"display:none\">Des explications très intéressantes</div><button id=\"seeMoreButton\" onclick=\"Client.seeMore()\">Voir plus</button>`, { runScripts: \"dangerously\" });\n  setTimeout(() => {\n    dom.window.document.getElementById('seeMoreButton').click();\n    t.is(dom.window.document.getElementById('seeMoreDiv').style.display, 'block');\n    dom.window.document.getElementById('seeMoreButton').click();\n    t.is(dom.window.document.getElementById('seeMoreDiv').style.display, 'none');\n  }, 5000);\n});\n"]}
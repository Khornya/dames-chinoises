{"version":3,"sources":["client.game.test.js"],"names":["pug","require","rewire","Shared","Client","__set__","t","document","write","renderFile","is","getElementById","innerHTML","createGameBoard","initGameBoard","createCell","outerHTML","test","skip","gameBoard","images","src","refreshBoard","modal","span","getElementsByClassName","content","restartButton","endGame","style","display"],"mappings":"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","file":"client.game.test.js","sourcesContent":["import test from 'ava';\nvar pug = require('pug');\nvar rewire = require('rewire');\n\nvar Shared = rewire('./shared.js'); // fonctions utilitaires\nvar Client = rewire('./client.game.js'); // le fichier contenant les fonctions à tester\n\nClient.__set__('Shared', Shared);\n\ntest('Créer le plateau de jeu', t => {\n  document.write(pug.renderFile('./views/game.pug', {})); // écrit la page d'accueil dans la simulation du DOM\n  t.is(document.getElementById('board').innerHTML, '');\n  Client.createGameBoard(Shared.initGameBoard());\n  t.is(document.getElementById('board').innerHTML, '<div id=\"line0\" class=\"line\"><div class=\"cell\" line=\"0\" column=\"12\"><img alt=\"pion\" src=\"images/pion1.png\"></div></div><div id=\"line1\" class=\"line\"><div class=\"cell\" line=\"1\" column=\"11\"><img alt=\"pion\" src=\"images/pion1.png\"></div><div class=\"cell\" line=\"1\" column=\"13\"><img alt=\"pion\" src=\"images/pion1.png\"></div></div><div id=\"line2\" class=\"line\"><div class=\"cell\" line=\"2\" column=\"10\"><img alt=\"pion\" src=\"images/pion1.png\"></div><div class=\"cell\" line=\"2\" column=\"12\"><img alt=\"pion\" src=\"images/pion1.png\"></div><div class=\"cell\" line=\"2\" column=\"14\"><img alt=\"pion\" src=\"images/pion1.png\"></div></div><div id=\"line3\" class=\"line\"><div class=\"cell\" line=\"3\" column=\"9\"><img alt=\"pion\" src=\"images/pion1.png\"></div><div class=\"cell\" line=\"3\" column=\"11\"><img alt=\"pion\" src=\"images/pion1.png\"></div><div class=\"cell\" line=\"3\" column=\"13\"><img alt=\"pion\" src=\"images/pion1.png\"></div><div class=\"cell\" line=\"3\" column=\"15\"><img alt=\"pion\" src=\"images/pion1.png\"></div></div><div id=\"line4\" class=\"line\"><div class=\"cell\" line=\"4\" column=\"0\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"4\" column=\"2\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"4\" column=\"4\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"4\" column=\"6\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"4\" column=\"8\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"4\" column=\"10\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"4\" column=\"12\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"4\" column=\"14\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"4\" column=\"16\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"4\" column=\"18\"><img alt=\"pion\" src=\"images/pion5.png\"></div><div class=\"cell\" line=\"4\" column=\"20\"><img alt=\"pion\" src=\"images/pion5.png\"></div><div class=\"cell\" line=\"4\" column=\"22\"><img alt=\"pion\" src=\"images/pion5.png\"></div><div class=\"cell\" line=\"4\" column=\"24\"><img alt=\"pion\" src=\"images/pion5.png\"></div></div><div id=\"line5\" class=\"line\"><div class=\"cell\" line=\"5\" column=\"1\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"5\" column=\"3\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"5\" column=\"5\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"5\" column=\"7\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"5\" column=\"9\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"5\" column=\"11\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"5\" column=\"13\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"5\" column=\"15\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"5\" column=\"17\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"5\" column=\"19\"><img alt=\"pion\" src=\"images/pion5.png\"></div><div class=\"cell\" line=\"5\" column=\"21\"><img alt=\"pion\" src=\"images/pion5.png\"></div><div class=\"cell\" line=\"5\" column=\"23\"><img alt=\"pion\" src=\"images/pion5.png\"></div></div><div id=\"line6\" class=\"line\"><div class=\"cell\" line=\"6\" column=\"2\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"6\" column=\"4\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"6\" column=\"6\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"6\" column=\"8\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"6\" column=\"10\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"6\" column=\"12\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"6\" column=\"14\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"6\" column=\"16\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"6\" column=\"18\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"6\" column=\"20\"><img alt=\"pion\" src=\"images/pion5.png\"></div><div class=\"cell\" line=\"6\" column=\"22\"><img alt=\"pion\" src=\"images/pion5.png\"></div></div><div id=\"line7\" class=\"line\"><div class=\"cell\" line=\"7\" column=\"3\"><img alt=\"pion\" src=\"images/pion3.png\"></div><div class=\"cell\" line=\"7\" column=\"5\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"7\" column=\"7\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"7\" column=\"9\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"7\" column=\"11\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"7\" column=\"13\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"7\" column=\"15\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"7\" column=\"17\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"7\" column=\"19\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"7\" column=\"21\"><img alt=\"pion\" src=\"images/pion5.png\"></div></div><div id=\"line8\" class=\"line\"><div class=\"cell\" line=\"8\" column=\"4\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"8\" column=\"6\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"8\" column=\"8\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"8\" column=\"10\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"8\" column=\"12\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"8\" column=\"14\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"8\" column=\"16\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"8\" column=\"18\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"8\" column=\"20\"><img alt=\"pion\" src=\"images/pion-1.png\"></div></div><div id=\"line9\" class=\"line\"><div class=\"cell\" line=\"9\" column=\"3\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"9\" column=\"5\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"9\" column=\"7\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"9\" column=\"9\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"9\" column=\"11\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"9\" column=\"13\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"9\" column=\"15\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"9\" column=\"17\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"9\" column=\"19\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"9\" column=\"21\"><img alt=\"pion\" src=\"images/pion4.png\"></div></div><div id=\"line10\" class=\"line\"><div class=\"cell\" line=\"10\" column=\"2\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"10\" column=\"4\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"10\" column=\"6\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"10\" column=\"8\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"10\" column=\"10\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"10\" column=\"12\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"10\" column=\"14\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"10\" column=\"16\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"10\" column=\"18\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"10\" column=\"20\"><img alt=\"pion\" src=\"images/pion4.png\"></div><div class=\"cell\" line=\"10\" column=\"22\"><img alt=\"pion\" src=\"images/pion4.png\"></div></div><div id=\"line11\" class=\"line\"><div class=\"cell\" line=\"11\" column=\"1\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"11\" column=\"3\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"11\" column=\"5\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"11\" column=\"7\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"11\" column=\"9\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"11\" column=\"11\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"11\" column=\"13\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"11\" column=\"15\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"11\" column=\"17\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"11\" column=\"19\"><img alt=\"pion\" src=\"images/pion4.png\"></div><div class=\"cell\" line=\"11\" column=\"21\"><img alt=\"pion\" src=\"images/pion4.png\"></div><div class=\"cell\" line=\"11\" column=\"23\"><img alt=\"pion\" src=\"images/pion4.png\"></div></div><div id=\"line12\" class=\"line\"><div class=\"cell\" line=\"12\" column=\"0\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"12\" column=\"2\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"12\" column=\"4\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"12\" column=\"6\"><img alt=\"pion\" src=\"images/pion6.png\"></div><div class=\"cell\" line=\"12\" column=\"8\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"12\" column=\"10\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"12\" column=\"12\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"12\" column=\"14\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"12\" column=\"16\"><img alt=\"pion\" src=\"images/pion-1.png\"></div><div class=\"cell\" line=\"12\" column=\"18\"><img alt=\"pion\" src=\"images/pion4.png\"></div><div class=\"cell\" line=\"12\" column=\"20\"><img alt=\"pion\" src=\"images/pion4.png\"></div><div class=\"cell\" line=\"12\" column=\"22\"><img alt=\"pion\" src=\"images/pion4.png\"></div><div class=\"cell\" line=\"12\" column=\"24\"><img alt=\"pion\" src=\"images/pion4.png\"></div></div><div id=\"line13\" class=\"line\"><div class=\"cell\" line=\"13\" column=\"9\"><img alt=\"pion\" src=\"images/pion2.png\"></div><div class=\"cell\" line=\"13\" column=\"11\"><img alt=\"pion\" src=\"images/pion2.png\"></div><div class=\"cell\" line=\"13\" column=\"13\"><img alt=\"pion\" src=\"images/pion2.png\"></div><div class=\"cell\" line=\"13\" column=\"15\"><img alt=\"pion\" src=\"images/pion2.png\"></div></div><div id=\"line14\" class=\"line\"><div class=\"cell\" line=\"14\" column=\"10\"><img alt=\"pion\" src=\"images/pion2.png\"></div><div class=\"cell\" line=\"14\" column=\"12\"><img alt=\"pion\" src=\"images/pion2.png\"></div><div class=\"cell\" line=\"14\" column=\"14\"><img alt=\"pion\" src=\"images/pion2.png\"></div></div><div id=\"line15\" class=\"line\"><div class=\"cell\" line=\"15\" column=\"11\"><img alt=\"pion\" src=\"images/pion2.png\"></div><div class=\"cell\" line=\"15\" column=\"13\"><img alt=\"pion\" src=\"images/pion2.png\"></div></div><div id=\"line16\" class=\"line\"><div class=\"cell\" line=\"16\" column=\"12\"><img alt=\"pion\" src=\"images/pion2.png\"></div></div>');\n});\n\ntest('Créer une case sur le plateau de jeu', t => {\nt.is(Client.createCell([10,8],2).outerHTML, '<div class=\"cell\" line=\"10\" column=\"8\"><img alt=\"pion\" src=\"images/pion2.png\"></div>');\nt.is(Client.createCell([0,5],-1).outerHTML, '<div class=\"cell\" line=\"0\" column=\"5\"><img alt=\"pion\" src=\"images/pion-1.png\"></div>');\n});\n\ntest.skip('Redémarrer une partie', t => {\n\n});\n\ntest('Actualiser le plateau de jeu', t => {\n  var gameBoard = Shared.initGameBoard();\n  var images = Client.createGameBoard(gameBoard);\n  Client.__set__('images',images);\n  t.is(images[2][10].src, \"images/pion1.png\");\n  t.is(images[4][8].src, \"images/pion-1.png\");\n  t.is(images[0][12].src, \"images/pion1.png\");\n  gameBoard[2][10] = 2;\n  gameBoard[4][8] = 1;\n  gameBoard[0][12] = 1;\n  Client.refreshBoard(gameBoard);\n  t.is(images[2][10].src, \"images/pion2.png\");\n  t.is(images[4][8].src, \"images/pion1.png\");\n  t.is(images[0][12].src, \"images/pion1.png\");\n});\n\ntest('Afficher le message de fin de partie', t => {\n  var modal = document.getElementById('modal');\n  var span = document.getElementsByClassName(\"close\")[0];\n  var content = document.getElementById(\"modalText\");\n  var restartButton = document.getElementById(\"restartButton\");\n  Client.endGame();\n  t.is(modal.style.display, 'block');\n  t.is(content.innerHTML, \"Vous avez gagné par forfait.\");\n  t.is(restartButton.style.display, \"none\");\n});\n\ntest.skip('Jouer un coup', t => {});\n\ntest.skip('Effectuer un déplacement', t => {});\n\ntest.skip('Créer un objet de la classe Player', t => {});\n\ntest.skip('Créer un objet de la classe Sound', t => {});\n\ntest.skip('Actualiser les cadres des joueurs', t => {});\n\ntest.skip('Afficher un message', t => {});\n"]}
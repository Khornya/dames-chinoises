{"version":3,"sources":["client.test.js"],"names":["pug","require","Client","JSDOM","dom","renderFile","t","is","document","getElementById","style","display","seeMore","tooltip","querySelectorAll","console","log","window","getComputedStyle","getPropertyValue","deactivateTooltips"],"mappings":";;AAAA;;;;;;AACA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEA,IAAIC,SAASD,QAAQ,aAAR,CAAb,C,CAAqC;;AAErC;;AAEA,MAAM,EAAEE,KAAF,KAAYF,QAAQ,OAAR,CAAlB;;AAEA,MAAMG,MAAM,IAAID,KAAJ,CAAUH,IAAIK,UAAJ,CAAe,mBAAf,EAAoC,EAApC,CAAV,CAAZ;;AAEA,mBAAK,6BAAL,EAAoCC,KAAK;AACvC;AACAA,IAAEC,EAAF,CAAKC,SAASC,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAAjD,EAA0D,MAA1D;AACAT,SAAOU,OAAP;AACAN,IAAEC,EAAF,CAAKC,SAASC,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAAjD,EAA0D,OAA1D;AACAT,SAAOU,OAAP;AACAN,IAAEC,EAAF,CAAKC,SAASC,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAAjD,EAA0D,MAA1D;AACD,CAPD;;AASA,mBAAK,yBAAL,EAAgCL,KAAK;AACnC,OAAK,IAAIO,OAAT,IAAoBL,SAASM,gBAAT,CAA0B,UAA1B,CAApB,EAA2D;AACzDC,YAAQC,GAAR,CAAYC,OAAOC,gBAAP,CAAwBL,OAAxB,CAAZ;AACAP,MAAEC,EAAF,CAAKU,OAAOC,gBAAP,CAAwBL,OAAxB,EAAiCM,gBAAjC,CAAkD,SAAlD,CAAL,EAAmE,OAAnE;AACD;AACDjB,SAAOkB,kBAAP;AACA,OAAK,IAAIP,OAAT,IAAoBL,SAASM,gBAAT,CAA0B,UAA1B,CAApB,EAA2D;AACzDR,MAAEC,EAAF,CAAKM,QAAQH,KAAR,CAAcC,OAAnB,EAA4B,MAA5B;AACD;AACF,CATD","file":"client.test.js","sourcesContent":["import test from 'ava';\nvar pug = require('pug');\n\nvar Client = require('./client.js'); // le fichier contenant les fonctions à tester\n\n// document.write(pug.renderFile('./views/index.pug', {})); // écrit la page d'accueil dans la simulation du DOM\n\nconst { JSDOM } = require(\"jsdom\");\n\nconst dom = new JSDOM(pug.renderFile('./views/index.pug', {}));\n\ntest('Afficher / masquer le texte', t => {\n  // document.body.innerHTML = document.getElementById('seeMoreDiv').outerHTML + document.getElementById('seeMoreButton').outerHTML;\n  t.is(document.getElementById('seeMoreDiv').style.display, 'none');\n  Client.seeMore();\n  t.is(document.getElementById('seeMoreDiv').style.display, 'block');\n  Client.seeMore();\n  t.is(document.getElementById('seeMoreDiv').style.display, 'none');\n});\n\ntest('Désactiver les tooltips', t => {\n  for (var tooltip in document.querySelectorAll('.tooltip')) {\n    console.log(window.getComputedStyle(tooltip));\n    t.is(window.getComputedStyle(tooltip).getPropertyValue('display'), 'block');\n  }\n  Client.deactivateTooltips();\n  for (var tooltip in document.querySelectorAll('.tooltip')) {\n    t.is(tooltip.style.display, 'none');\n  }\n});\n"]}